<div id="main">
  <app-navbar-home></app-navbar-home>
  <!-- form starts here -->
  <div class="row">
    <div class="col-lg-2"></div>
    <div class="col-lg-8" style="margin-top: 2%; margin-bottom: 2%">
      <h2 style="text-align: center">Create a group!</h2>
      <br />

      <form #newgrp="ngForm" (ngSubmit)="addgrp()">
        <div class="form-group">
          <label style="font-weight: bold">Name</label>
          <input
            type="text"
            name="name"
            minlength="3"
            class="form-control"
            #name="ngModel"
            [(ngModel)]="group.name"
            required
          />
          <small
            class="text-danger"
            [class.d-none]="name.valid || name.untouched"
            >Must have minimum length of 3!</small
          >
        </div>
        <div class="form-group">
          <label style="font-weight: bold">Description</label>
          <input
            type="text"
            class="form-control"
            name="des"
            [(ngModel)]="group.des"
            minlength="5"
            maxlength="100"
            #des="ngModel"
            [class.is-invalid]="des.invalid && des.touched"
            required
          />
          <small class="text-danger" [class.d-none]="des.valid || des.untouched"
            >Must have length between 5 and 100!</small
          >
        </div>
        <div class="form-group">
          <label style="font-weight: bold"
            >Number of members (Excluding you)</label
          >
          <input
            type="number"
            id="num"
            name="memno"
            min="2"
            max="50"
            class="form-control"
            [(ngModel)]="group.memno"
            (change)="setNum($event)"
            #memno="ngModel"
            required
          />
        </div>
        <div class="form-group">
          <label style="font-weight: bold">Other members</label>
          <ul>
            <li *ngFor="let i of numbers">
              <input
                type="text"
                name="members[i]"
                class="form-control"
                minlength="3"
                #mem="ngModel"
                [(ngModel)]="group.members[i]"
                [class.is-invalid]="mem.invalid && mem.touched"
                required
              />
              <small
                class="text-danger"
                [class.d-none]="mem.valid || mem.untouched"
                >Enter a valid user!</small
              >
            </li>
          </ul>
        </div>
        <div class="button text-center">
          <button
            id="submit"
            type="submit"
            class="btn"
            [disabled]="newgrp.form.invalid"
          >
            Create
          </button>
        </div>
      </form>
      <!-- form ends here -->
    </div>
    <div class="col-lg-2"></div>
  </div>
</div>
